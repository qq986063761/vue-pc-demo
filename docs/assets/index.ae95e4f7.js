var F=Object.defineProperty,Q=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var U=(t,e,i)=>e in t?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,B=(t,e)=>{for(var i in e||(e={}))J.call(e,i)&&U(t,i,e[i]);if(V)for(var i of V(e))Z.call(e,i)&&U(t,i,e[i]);return t},R=(t,e)=>Q(t,G(e));import{C as tt,r as u,o as d,c as I,w as p,a as v,b as _,d as W,e as a,t as C,F as O,f as A,g as et,h as st,i as nt,j as k,v as x,k as z,l as it,m as D,n as b,p as X,q as ot,A as rt}from"./vendor.308c3883.js";const lt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}};lt();var ct="./assets/avatar.37e52ddd.jpg";var Y=(t,e)=>{const i=t.__vccOpts||t;for(const[n,s]of e)i[n]=s;return i};const at={components:{CalculatorOutlined:tt},data(){return{avatar:ct,selectedKeys:["comment"],openKeys:["comp"],menus:[{label:"\u7EC4\u4EF6",key:"comp",children:[{key:"comment",label:"\u8BC4\u8BBA"},{key:"scrollBar",label:"\u60AC\u6D6E\u6EDA\u52A8\u6761"},{key:"scaleTool",label:"\u62D6\u62FD\u7F29\u653E\u63A7\u4EF6"}]},{label:"\u6307\u4EE4",key:"dir",children:[{key:"disableRepeatClick",label:"\u9632\u91CD\u590D\u70B9\u51FB"},{key:"drag",label:"\u62D6\u62FD"},{key:"reasonableActiveItem",label:"\u6FC0\u6D3B\u5230\u5408\u9002\u7684item"}]},{label:"demo",key:"demo",children:[{key:"carousel",label:"\u8F6E\u64AD"}]}]}},watch:{$route:"init"},methods:{onSelect({item:t,key:e,selectedKeys:i}){console.log({item:t,key:e,selectedKeys:i}),this.$router.push({name:e})},init(){if(this.inited)return;const t=this.menus.find(e=>e.children.some(i=>i.key===this.$route.name));t&&(this.openKeys=[t.key],this.selectedKeys=[this.$route.name]),this.inited=!0}}};function ht(t,e,i,n,s,o){const r=u("a-avatar"),l=u("calculator-outlined"),c=u("a-menu-item"),g=u("a-sub-menu"),w=u("a-menu"),h=u("a-layout-sider"),L=u("router-view"),M=u("a-layout-content"),f=u("a-layout");return d(),I(f,{class:"root-wrap"},{default:p(()=>[v(h,{collapsible:""},{default:p(()=>[v(r,{src:s.avatar,size:60},null,8,["src"]),v(w,{theme:"dark",mode:"inline",openKeys:s.openKeys,"onUpdate:openKeys":e[0]||(e[0]=m=>s.openKeys=m),selectedKeys:s.selectedKeys,"onUpdate:selectedKeys":e[1]||(e[1]=m=>s.selectedKeys=m),onSelect:o.onSelect},{default:p(()=>[(d(!0),_(O,null,W(s.menus,m=>(d(),I(g,{key:m.key},{title:p(()=>[v(l),a("span",null,C(m.label),1)]),default:p(()=>[(d(!0),_(O,null,W(m.children,E=>(d(),I(c,{key:E.key},{default:p(()=>[A(C(E.label),1)]),_:2},1024))),128))]),_:2},1024))),128))]),_:1},8,["openKeys","selectedKeys","onSelect"])]),_:1}),v(M,null,{default:p(()=>[v(L,{class:"root-view"})]),_:1})]),_:1})}var dt=Y(at,[["render",ht]]);const ut="modulepreload",$={},ft="./",S=function(e,i){return!i||i.length===0?e():Promise.all(i.map(n=>{if(n=`${ft}${n}`,n in $)return;$[n]=!0;const s=n.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${o}`))return;const r=document.createElement("link");if(r.rel=s?"stylesheet":ut,s||(r.as="script",r.crossOrigin=""),r.href=n,document.head.appendChild(r),s)return new Promise((l,c)=>{r.addEventListener("load",l),r.addEventListener("error",c)})})).then(()=>e())};var mt=et({history:st(),routes:[{path:"/",redirect:"/comment"},{path:"/comment",name:"comment",component:()=>S(()=>import("./comment.5ad939b5.js"),["assets/comment.5ad939b5.js","assets/vendor.308c3883.js"])},{path:"/carousel",name:"carousel",component:()=>S(()=>import("./carousel.b6393eae.js"),["assets/carousel.b6393eae.js","assets/carousel.71f7a119.css","assets/vendor.308c3883.js"])},{path:"/scrollBar",name:"scrollBar",component:()=>S(()=>import("./scrollBar.ced744dd.js"),["assets/scrollBar.ced744dd.js","assets/scrollBar.95c50ac2.css","assets/vendor.308c3883.js"])},{path:"/scaleTool",name:"scaleTool",component:()=>S(()=>import("./scaleTool.11f93913.js"),["assets/scaleTool.11f93913.js","assets/scaleTool.c6bce0f6.css","assets/vendor.308c3883.js"])},{path:"/disableRepeatClick",name:"disableRepeatClick",component:()=>S(()=>import("./disableRepeatClick.ece5e16a.js"),["assets/disableRepeatClick.ece5e16a.js","assets/vendor.308c3883.js"])},{path:"/drag",name:"drag",component:()=>S(()=>import("./drag.9c2b3bff.js"),["assets/drag.9c2b3bff.js","assets/vendor.308c3883.js"])},{path:"/reasonableActiveItem",name:"reasonableActiveItem",component:()=>S(()=>import("./reasonableActiveItem.54e7c458.js"),["assets/reasonableActiveItem.54e7c458.js","assets/reasonableActiveItem.9c020bcc.css","assets/vendor.308c3883.js"])}]});const pt=function(t){for(let e of t){const i=e.target.__resizeListeners__||[];i.length&&i.forEach(n=>{n()})}};function _t(t,e){t.__resizeListeners__||(t.__resizeListeners__=[],t.__ro__=new nt(pt),t.__ro__.observe(t)),t.__resizeListeners__.push(e)}function gt(t,e){!t||!t.__resizeListeners__||(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||t.__ro__.disconnect())}function vt(t,e){if(window.getSelection){if(!t.firstChild){t.focus();return}var i=window.getSelection(),n=document.createRange();e!==void 0?(n.setStart(t.firstChild,e),n.setEnd(t.firstChild,1)):(n.selectNodeContents(t),n.collapse(!1)),i.removeAllRanges(),i.addRange(n)}else console.warn("\u6D4F\u89C8\u5668\u4E0D\u652F\u6301window.getSelection")}function T(t,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function yt(t){return window.getComputedStyle?window.getComputedStyle(t,null):t.currentStyle}function K(t){if(T(t,"body"))return t;var e=yt(t.parentElement);return["auto","scroll"].includes(e.overflow)||["auto","scroll"].includes(e["overflow-x"])||["auto","scroll"].includes(e["overflow-y"])?t.parentElement:K(t.parentElement)}function bt(t){const e=[];function i(n){const s=K(n);T(s,"body")||s&&(e.push(s),i(s))}return i(t),e}function St(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function wt(t,e,i,n){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&T(t,e):T(t,e))||n&&t===i)return t;if(t===i)break;t=St(t)}while(t)}return null}const Et={name:"commentInput",data(){return{content:"",showUsrs:!1,atUsrs:["\u7528\u62371","\u7528\u62372","\u7528\u62373"]}},methods:{onInput(t){const e=t.target.innerHTML,i=e.split("@"),n=this.content.split("@");i.length-n.length==1&&(this.isInputAt=!0,this.showAtPop()),this.content=e},onPaste(t){let e=(t.clipboardData||window.clipboardData).getData("text");document.execCommand("insertHTML",!1,e)},onSubmit(){const{input:t}=this.$refs;let e=t.innerHTML;const n=[...t.querySelectorAll(".at")].map(s=>(e=e.replace(new RegExp(s.outerHTML+"(&nbsp;)?"),""),{name:s.getAttribute("data-name")}));if(!e){alert("\u8BF7\u8F93\u5165\u5185\u5BB9");return}this.init(),this.$emit("submit",{content:e,usrs:n})},showAtPop(){const t=window.getSelection&&window.getSelection();this.atPrevEl=t&&t.focusNode&&t.focusNode.previousElementSibling,this.atOffset=t&&t.focusOffset,!this.atOffset&&this.atOffset!==0&&(this.atOffset=null),this.showUsrs=!0},onClickAtItem({key:t}){const{input:e}=this.$refs;let i=[t],n=e.innerHTML;this.showUsrs=!1;const s=i.map(o=>`<span class="at" data-userId="${o}" data-name="${o}" onclick="return false;" contenteditable="false">@${o}</span>&nbsp;`).join("");if(!s){this.isInputAt=!1;return}if(this.isInputAt)if(this.atPrevEl){const o=this.atPrevEl.outerHTML+"",r=o+"&nbsp;",l=o+"@",c=r+"@",g=o+s,w=r+s;n.match(c)?n=n.replace(c,w):n.match(l)?n=n.replace(l,g):(n[n.length-1]==="@"&&(n=n.slice(0,n.length-1)),n+=s)}else n[n.length-1]==="@"&&(n=n.slice(0,n.length-1)),n+=s;else n+=s;this.content=e.innerHTML=n,vt(e),this.isInputAt=!1},init(){const{input:t}=this.$refs;this.content=t.innerHTML=""}}},Lt={class:"comment-input"},Mt={class:"comment-input-content"},Wt={class:"edit placeholder"},Ct={class:"ant-dropdown-menu"},Ot=["onClick"],kt={class:"comment-input-toolbar"},xt=A("@"),Xt=A("\u63D0\u4EA4");function Yt(t,e,i,n,s,o){const r=u("a-button");return d(),_("div",Lt,[a("div",Mt,[k(a("div",Wt,"\u8BF7\u8F93\u5165...",512),[[x,!s.content]]),a("div",{ref:"input",class:"edit",contenteditable:"",onInput:e[0]||(e[0]=(...l)=>o.onInput&&o.onInput(...l)),onPaste:e[1]||(e[1]=z((...l)=>o.onPaste&&o.onPaste(...l),["prevent"])),onKeydown:e[2]||(e[2]=it(z((...l)=>o.onSubmit&&o.onSubmit(...l),["ctrl"]),["enter"]))},null,544),k(a("div",Ct,[(d(!0),_(O,null,W(s.atUsrs,l=>(d(),_("div",{class:"ant-dropdown-menu-item",key:l,onClick:c=>o.onClickAtItem({key:l})},C(l),9,Ot))),128))],512),[[x,s.showUsrs]])]),a("div",kt,[v(r,{type:"link",onClick:o.showAtPop},{default:p(()=>[xt]),_:1},8,["onClick"]),v(r,{type:"link",onClick:o.onSubmit},{default:p(()=>[Xt]),_:1},8,["onClick"])])])}var j=Y(Et,[["render",Yt]]);const Tt={name:"scrollBar",props:{scroller:HTMLElement},data(){return{style:null,outStyle:null}},watch:{scroller:"init"},methods:{init(t,e){!this.scroller||(this.scrollers=bt(this.$el).filter(i=>i!==this.scroller),!!this.scrollers.length&&(this.scrollers.forEach(i=>i.addEventListener("scroll",this.update)),window.addEventListener("resize",this.update),this.update()))},onScrollBarMounseMove(t){if(!this.dragging)return;let e=this.initScrollBarLeft+t.clientX-this.clientX;e<0&&(e=0),e+this.initScrollBarWidth>this.scroller.clientWidth&&(e=this.scroller.clientWidth-this.initScrollBarWidth);const i=e/this.scroller.clientWidth;this.scroller.scrollLeft=this.scroller.scrollWidth*i,this.nextLeft=e,Object.assign(this.style,{transform:`translateX(${this.nextLeft}px)`})},onScrollBarMounseUp(){!this.dragging||(document.removeEventListener("mousemove",this.onScrollBarMounseMove),document.removeEventListener("mouseup",this.onScrollBarMounseUp),this.initScrollBarLeft=this.nextLeft,this.dragging=!1,document.body.style.userSelect=this.prevUserSelect)},onScrollBarMouseDown(t){!this.style||(document.addEventListener("mousemove",this.onScrollBarMounseMove),document.addEventListener("mouseup",this.onScrollBarMounseUp),this.dragging=!0,this.clientX=t.clientX,this.prevUserSelect=document.body.style.userSelect,document.body.style.userSelect="none")},onUpate(t){const e=t&&t.type!=="resize";if(e){if(t.target.scrollTop===t.target._prevScrollTop)return;t.target._prevScrollTop=t.target.scrollTop}if(!this.scroller||this.scroller.scrollWidth===this.scroller.clientWidth)return;const i=(e?t.target:this.scrollers[0])||document.body,n=i.getBoundingClientRect(),s=i.offsetHeight-i.clientHeight||0,o=this.scroller.getBoundingClientRect(),r=o.bottom>n.bottom;if(this.outStyle={left:o.left+"px",top:n.bottom-15-s+"px",width:this.scroller.clientWidth+"px"},r){const l=this.scroller.scrollWidth-this.scroller.clientWidth,c=this.scroller.scrollLeft,g=this.scroller.clientWidth/this.scroller.scrollWidth;this.initScrollBarWidth=this.scroller.clientWidth*g,this.initScrollBarLeft=(this.scroller.clientWidth-this.initScrollBarWidth)*c/l,this.style={width:`${this.initScrollBarWidth}px`,transform:`translateX(${this.initScrollBarLeft}px)`}}else this.style=null}},mounted(){this.update=D(100,this.onUpate),this.init()},beforeDestroy(){window.removeEventListener("resize",this.update),this.scrollers&&this.scrollers.forEach(t=>t.removeEventListener("scroll",this.update))}};function Ht(t,e,i,n,s,o){return k((d(),_("div",{class:"suspending-scrollbar",style:b(s.outStyle)},[a("div",{class:"scrollbar-inner",style:b(s.style),onMousedown:e[0]||(e[0]=(...r)=>o.onScrollBarMouseDown&&o.onScrollBarMouseDown(...r))},null,36)],4)),[[x,s.style]])}var N=Y(Tt,[["render",Ht]]);const Bt={name:"scaleTool",props:{data:{type:Array,default:()=>[]},type:String,scroller:HTMLElement,content:HTMLElement},data(){return{dragging:!1,width:180,height:86,isClose:!1,dragWinStyle:null,targetStyle:null,targetItemStyle:null,scaleVal:100}},watch:{scroller(t,e){this.offScrollerEvents(e),this.init({init:!0})},content(t,e){this.offContentEvents(e),this.init({init:!0})},data:{handler(t){this.setTargetItemStyle()},immediate:!0}},methods:{onMouseDown(t){this.dragging=!0,this.clicked=!0,this.startX=t.clientX,this.startY=t.clientY,this.startOffsetX=this.offsetX,this.startOffsetY=this.offsetY,document.body.addEventListener("mouseup",this.onMouseUp)},onMouseMove(t){if(!this.dragging)return;const e=t.clientX-this.startX,i=t.clientY-this.startY;let n=this.startOffsetX+e,s=this.startOffsetY+i;n<0?n=0:n>this.width-this.dragWinWidth&&(n=this.width-this.dragWinWidth),s<0?s=0:s>this.height-this.dragWinHeight&&(s=this.height-this.dragWinHeight),this.offsetX=n,this.offsetY=s,this.updateWin(),this.contentOffsetX=(this.offsetX-this.initOffsetX)/-this.scale,this.contentOffsetY=(this.offsetY-this.initOffsetY)/-this.scale,this.updateContent()},onMouseUp(t){this.dragging=!1,this.scroller.style.cursor="grab",this.scroller.removeEventListener("mousemove",this.onContentMouseMove),document.body.removeEventListener("mouseup",this.onMouseUp),setTimeout(()=>{window.isDragged=!1},200)},onWheel(t){const{deltaY:e}=t;if(e){let i=this.contentOffsetY-e,n=i*-this.scale+this.initOffsetY;n<0?(n=0,i=(n-this.initOffsetY)/-this.scale):n>this.height-this.dragWinHeight&&(n=this.height-this.dragWinHeight,i=(n-this.initOffsetY)/-this.scale),this.offsetY=n,this.updateWin(),this.contentOffsetY=i,this.updateContent()}},onContentMouseMove(t){if(!this.dragging)return;this.scroller.style.cursor="grabbing";const e=t.clientX-this.contentStartX,i=t.clientY-this.contentStartY;(Math.abs(e)>100||Math.abs(i)>100)&&(window.isDragged=!0);let n=this.contentStartOffsetX+e,s=this.contentStartOffsetY+i,o=n*-this.scale+this.initOffsetX,r=s*-this.scale+this.initOffsetY;o<0?(o=0,n=(o-this.initOffsetX)/-this.scale):o>this.width-this.dragWinWidth&&(o=this.width-this.dragWinWidth,n=(o-this.initOffsetX)/-this.scale),r<0?(r=0,s=(r-this.initOffsetY)/-this.scale):r>this.height-this.dragWinHeight&&(r=this.height-this.dragWinHeight,s=(r-this.initOffsetY)/-this.scale),this.contentOffsetX=n,this.contentOffsetY=s,this.updateContent(),this.offsetX=o,this.offsetY=r,this.updateWin()},onContentMouseDown(t){this.dragging=!0,this.clicked=!0,this.contentStartX=t.clientX,this.contentStartY=t.clientY,this.contentStartOffsetX=this.contentOffsetX,this.contentStartOffsetY=this.contentOffsetY,this.scroller.addEventListener("mousemove",this.onContentMouseMove),document.body.addEventListener("mouseup",this.onMouseUp)},updateContent(t){const{animate:e}=t||{};this.content?(this.style={minWidth:"100%",minHeight:"100%",transform:`
              scale(${this.scaleVal/100}) translate3d(${this.contentOffsetX}px, ${this.contentOffsetY}px, 0)
            `,"transform-origin":"left top",transition:e?"all 0.3s ease-in-out":""},Object.assign(this.content.style,this.style)):console.error("props content \u4E0D\u5B58\u5728")},setScale(t){this.scaleVal=t,this.updateContent()},changeScale(t){t?this.scaleVal+=10:this.scaleVal-=10,this.scaleVal>150?this.scaleVal=150:this.scaleVal<0&&(this.scaleVal=0),this.updateContent({animate:!0})},offScrollerEvents(t){!t||(t.removeEventListener("wheel",this.onWheel),t.removeEventListener("mousedown",this.onContentMouseDown),t.removeEventListener("mousemove",this.onContentMouseMove))},offContentEvents(t){!t||gt(t,this.onResize)},updateWin(){this.dragWinStyle=R(B({},this.dragWinStyle||{}),{transform:`translate3d(${this.offsetX}px, ${this.offsetY}px, 0)`})},setTargetItemStyle(){this.targetItemStyle={width:`${230*this.scale}px`,height:`${this.data.length<=1?25:this.targetHeight/this.data.length}px`}},initWin(){let t=this.content.offsetWidth,e=this.content.offsetHeight,i=this.scroller.offsetWidth,n=this.scroller.offsetHeight,s=(this.width-40)/t,o=(this.height-20)/e;this.scale=Math.min(s,o),this.targetWidth=t*this.scale,this.targetHeight=e*this.scale,this.targetStyle={width:`${this.targetWidth}px`,height:`${this.targetHeight}px`},this.dragWinWidth=i*this.scale,this.dragWinHeight=n*this.scale,this.dragWinStyle=R(B({},this.dragWinStyle||{}),{left:0,top:0,width:`${this.dragWinWidth}px`,height:`${this.dragWinHeight}px`}),this.initOffsetX=(this.width-this.targetWidth)/2,this.initOffsetY=(this.height-this.targetHeight)/2,this.setTargetItemStyle(),this.clicked||(this.offsetX=this.initOffsetX,this.offsetY=this.initOffsetY,this.type==="tb"&&(this.offsetX+=(this.targetWidth-this.dragWinWidth)/2,this.contentOffsetX=(this.offsetX-this.initOffsetX)/-this.scale),this.updateWin(),this.updateContent())}},mounted(){this.init=D(200,t=>{const{init:e}=t||{};if(!this.scroller&&!this.content){console.error("props scroller \u548C content \u4E0D\u5B58\u5728");return}this.clicked=!1,this.offsetX=0,this.offsetY=0,this.contentOffsetX=0,this.contentOffsetY=0,this.scaleVal=100,e&&(this.scroller.style.userSelect="none",this.scroller.style.overflow="hidden",this.scroller.style.cursor="grab",this.scroller.addEventListener("wheel",this.onWheel),this.scroller.addEventListener("mousedown",this.onContentMouseDown),_t(this.content,this.onResize)),this.initWin()}),this.onResize=D(200,()=>{this.initWin()}),this.init({init:!0})},beforeDestroy(){this.offScrollerEvents(this.scroller),this.offContentEvents(this.content),document.body.removeEventListener("mouseup",this.onMouseUp)}},Rt={class:"window-content"},It={class:"scale-toolbar"},At={class:"btn-fold-box"},Dt={class:"scale"},Pt={class:"text"};function Vt(t,e,i,n,s,o){return d(),_("div",{class:"scale-tool",style:b({width:s.width+"px"})},[a("div",{class:X(["window",{close:s.isClose}]),style:b({height:s.height+"px"}),onMousemove:e[1]||(e[1]=(...r)=>o.onMouseMove&&o.onMouseMove(...r))},[k(a("div",Rt,[a("div",{class:X(["target",{center:i.type==="tb"}]),style:b(s.targetStyle)},[(d(!0),_(O,null,W(i.data,(r,l)=>(d(),_("div",{class:"target-item",key:l,style:b(s.targetItemStyle)},null,4))),128))],6),a("div",{class:X(["drag-window",{dragging:s.dragging}]),style:b(s.dragWinStyle),onMousedown:e[0]||(e[0]=(...r)=>o.onMouseDown&&o.onMouseDown(...r))},null,38)],512),[[x,!s.isClose]])],38),a("div",It,[a("div",At,[a("div",{class:X(["btn-fold iconfont icon-arrow-down",{close:s.isClose}]),onClick:e[2]||(e[2]=r=>s.isClose=!s.isClose)},null,2)]),a("div",Dt,[a("div",{class:"btn-minus el-icon-remove-outline",onClick:e[3]||(e[3]=r=>o.changeScale(!1))},"-"),a("div",Pt,C(s.scaleVal)+"%",1),a("div",{class:"btn-add el-icon-circle-plus-outline",onClick:e[4]||(e[4]=r=>o.changeScale(!0))},"+")])])],4)}var q=Y(Bt,[["render",Vt]]),Ut={mounted(t,e){t.addEventListener("click",i=>{if(!t.disabled){t.disabled=!0;const n=t.style.cursor;t.style.cursor="not-allowed",setTimeout(()=>{t.style.cursor=n,t.disabled=!1},300)}})}},zt={mounted(t,{value:e}){if(e===!1)return;t.style.cursor="all-scroll";const{container:i}=e||{};let n=null;i&&(n=wt(t,i)),t._init=function(){t._helper={el:n||t,x:0,y:0},t._helper.el.style.transition="unset";const s=t._helper.el.getBoundingClientRect();t._helper.initX=s.left,t._helper.initY=s.top,t._helper.el.style.transform&&(t._helper.el.style.transform="")},t._onMouseDown=function(s){t._isDisableDrag||(t._helper.draging=!0,t._helper.preX=t._helper.x,t._helper.preY=t._helper.y,t._helper.startX=-t._helper.x+s.clientX,t._helper.startY=-t._helper.y+s.clientY,t._helper.bodyUserSelect=document.body.style.userSelect,document.body.style.userSelect="none",document.addEventListener("mousemove",t._onMouseMove),document.addEventListener("mouseup",t._onMouseUp))},t._onMouseUp=function(s){t._helper.draging=!1,document.body.style.userSelect=t._helper.bodyUserSelect,document.removeEventListener("mousemove",t._onMouseMove),document.removeEventListener("mouseup",t._onMouseUp)},t._onMouseMove=function(s){if(!t._helper.draging)return;const o=t._helper.dir==="v"?0:s.clientX-t._helper.startX,r=t._helper.dir==="h"?0:s.clientY-t._helper.startY;t._helper.x=o,t._helper.y=r,t._helper.el.style.transform=`translate3d(${t._helper.x}px, ${t._helper.y}px, 0)`},t.addEventListener("mousedown",t._onMouseDown),t._init()},updated(t,{value:e},i,n){t._isDisableDrag=e===!1},unmounted(t){t.removeEventListener("mousedown",t._onMouseDown),document.removeEventListener("mousemove",t._onMouseMove),document.removeEventListener("mouseup",t._onMouseUp)}};function P(t){return t.$el||t}var $t={mounted(t,{value:e},i){t._bindingValue=e,t._init=()=>{const{scroller:n,onScroll:s}=t._bindingValue||{};!n||!s||(t._isBindEvent=!0,n.addEventListener("scroll",t._onScroll))},t._onScroll=n=>{const{scroller:s,items:o,onScroll:r,currentIndex:l}=t._bindingValue||{};if(!r)return;let c=l;if(c===-1)return;const g=o[c-1],w=o[c+1],h=s.getBoundingClientRect(),L=P(o[c]).getBoundingClientRect();t._scrollTop||(t._scrollTop=0);const M=n.target.scrollTop-t._scrollTop>0;t._scrollTop=n.target.scrollTop;let f=!1;!s.scrollTop&&c!==0&&(c=0,f=!0);const m=s.scrollHeight-s.scrollTop-s.clientHeight;!f&&m<=30&&c!==o.length-1&&(c=o.length-1,f=!0);let E=120;if(!f&&g){const H=L.bottom>h.bottom,y=P(g).getBoundingClientRect();(H&&y.top>h.top+E&&y.bottom<h.bottom||!M&&y.bottom>h.top+h.height/2)&&(c--,f=!0)}if(!f&&w){const H=L.top<h.top,y=P(w).getBoundingClientRect();(H&&y.top>h.top&&y.bottom<h.bottom-E||M&&y.top<h.top+h.height/2)&&(c++,f=!0)}r.call(i.context,n,{index:c})},t._removeEvents=()=>{const{scroller:n}=t._bindingValue||{};!n||n.removeEventListener("scroll",t._onScroll)},t._init(e)},updated(t,{value:e},i,n){t._bindingValue=e,t._isBindEvent||t._init(e)},unmounted(t){t._removeEvents()}},Kt={install(t,e){t.component(j.name,j),t.component(N.name,N),t.component(q.name,q),t.directive("disable-repeat-click",Ut),t.directive("drag",zt),t.directive("reasonable-active-item",$t)}};ot(dt).use(mt).use(rt).use(Kt).mount("#app");export{Y as _};
